Index: app/src/main/java/com/example/studyproject/SearchFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.studyproject;\r\n\r\nimport android.content.Intent;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.ListView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentTransaction;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class SearchFragment extends Fragment {\r\n    private ListView listView;\r\n    List roomList = new ArrayList<>();\r\n    ArrayAdapter adapter;\r\n    static boolean calledAlready = false;\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n        View view = inflater.inflate(R.layout.fragment_search, container, false);\r\n\r\n        Fragment searchRankingFragment = new SearchRankingFragment();\r\n        FragmentTransaction transaction = getChildFragmentManager().beginTransaction();\r\n        transaction.replace(R.id.container, searchRankingFragment).commit();\r\n\r\n        Button button2 = (Button)view.findViewById(R.id.button2);\r\n        button2.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View view) {\r\n                // fragment 에서 Activity 이동해야함\r\n                getActivity().startActivity(new Intent(getActivity(), MakeRoom.class));\r\n            }\r\n        });\r\n        // db 리스트뷰 띄우는 건데 SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length 에러 발생해서 주석 처리함\r\n/*\r\n        if(!calledAlready){\r\n            FirebaseDatabase.getInstance().setPersistenceEnabled(true);\r\n            calledAlready = true;\r\n        }\r\n        listView = (ListView) getView().findViewById(R.id.room_list);\r\n\r\n        adapter = new ArrayAdapter<String>(\r\n                getActivity(),\r\n                android.R.layout.simple_list_item_1,\r\n                roomList\r\n        );\r\n        listView.setAdapter(adapter);\r\n\r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference databaserRef = database.getReference(\"roomdb\");\r\n\r\n        databaserRef.child(\"study_rooms\").addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                for(DataSnapshot fileSnapshot : snapshot.getChildren()) {\r\n                    String str = fileSnapshot.child(\"roomname\").getValue(String.class);\r\n                    Log.i(\"TAG : value is \", str);\r\n                    roomList.add(str);\r\n                }\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n                Log.w(\"TAG : \", \"Failed to read value\", error.toException());\r\n            }\r\n        });*/\r\n        return view;\r\n    }\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/studyproject/SearchFragment.java	(revision 6f2d2fa05ec26ae5f0f8624263afacebfd4dab06)
+++ app/src/main/java/com/example/studyproject/SearchFragment.java	(date 1613633497092)
@@ -25,10 +25,8 @@
 import java.util.List;
 
 public class SearchFragment extends Fragment {
-    private ListView listView;
-    List roomList = new ArrayList<>();
-    ArrayAdapter adapter;
-    static boolean calledAlready = false;
+
+    //static boolean calledAlready = false;
 
     @Override
     public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {
@@ -39,6 +37,7 @@
         transaction.replace(R.id.container, searchRankingFragment).commit();
 
         Button button2 = (Button)view.findViewById(R.id.button2);
+
         button2.setOnClickListener(new View.OnClickListener() {
             @Override
             public void onClick(View view) {
@@ -46,19 +45,52 @@
                 getActivity().startActivity(new Intent(getActivity(), MakeRoom.class));
             }
         });
+
+
+        /*listView = (ListView)findViewById(R.id.room_list);
+        * //DB 변수 초기화
+                database = FirebaseDatabase.getInstance();
+                myRef = database.getReference("study_rooms");
+
+                dataAdapter = new ArrayAdapter<String>(MakeRoom.this, android.R.layout.simple_dropdown_item_1line, new ArrayList<String>()); //아오!
+
+                listView.setAdapter(dataAdapter);
+
+                myRef.addValueEventListener(new ValueEventListener() {
+                    @Override
+                    public void onDataChange(@NonNull DataSnapshot snapshot) {
+                        dataAdapter.clear();
+                        for(DataSnapshot messageData : snapshot.getChildren()){
+                            String msg = messageData.getValue().toString();
+                            dataAdapter.add(msg);
+                        }
+                        dataAdapter.notifyDataSetChanged();
+                        listView.setSelection(dataAdapter.getCount() - 1);
+                    }
+
+                    @Override
+                    public void onCancelled(@NonNull DatabaseError error) {
+
+                    }
+                });
+        *
+        * */
+
+
         // db 리스트뷰 띄우는 건데 SPAN_EXCLUSIVE_EXCLUSIVE spans cannot have a zero length 에러 발생해서 주석 처리함
 /*
         if(!calledAlready){
             FirebaseDatabase.getInstance().setPersistenceEnabled(true);
             calledAlready = true;
         }
-        listView = (ListView) getView().findViewById(R.id.room_list);
+        ListView listView = (ListView) view.findViewById(R.id.room_list);
 
         adapter = new ArrayAdapter<String>(
                 getActivity(),
                 android.R.layout.simple_list_item_1,
                 roomList
         );
+        /*
         listView.setAdapter(adapter);
 
         FirebaseDatabase database = FirebaseDatabase.getInstance();
Index: app/src/main/java/com/example/studyproject/SearchAllFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.studyproject;\r\n\r\nimport android.os.Bundle;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\n\r\npublic class SearchAllFragment extends Fragment {\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_search_all, container, false);\r\n\r\n        return rootView;\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/studyproject/SearchAllFragment.java	(revision 6f2d2fa05ec26ae5f0f8624263afacebfd4dab06)
+++ app/src/main/java/com/example/studyproject/SearchAllFragment.java	(date 1613631715965)
@@ -1,20 +1,34 @@
 package com.example.studyproject;
 
+import android.content.Intent;
 import android.os.Bundle;
 import android.view.LayoutInflater;
 import android.view.View;
 import android.view.ViewGroup;
+import android.widget.ArrayAdapter;
+import android.widget.Button;
+import android.widget.ListView;
 
 import androidx.annotation.NonNull;
 import androidx.annotation.Nullable;
 import androidx.fragment.app.Fragment;
+import androidx.fragment.app.FragmentTransaction;
+
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+
+import java.util.ArrayList;
+import java.util.List;
 
 public class SearchAllFragment extends Fragment {
+
     @Nullable
     @Override
     public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
         ViewGroup rootView = (ViewGroup) inflater.inflate(R.layout.fragment_search_all, container, false);
-
         return rootView;
     }
 }
Index: app/src/main/java/com/example/studyproject/MakeRoom.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.studyproject;\r\n\r\nimport android.content.DialogInterface;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.View;\r\nimport android.widget.AdapterView;\r\nimport android.widget.ArrayAdapter;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ListView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.appcompat.app.AlertDialog;\r\nimport androidx.appcompat.app.AppCompatActivity;\r\n\r\nimport com.google.android.gms.tasks.OnFailureListener;\r\nimport com.google.android.gms.tasks.OnSuccessListener;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.IgnoreExtraProperties;\r\nimport com.google.firebase.database.Query;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.HashMap;\r\nimport java.util.List;\r\nimport java.util.Map;\r\n\r\n//@IgnoreExtraProperties\r\npublic class MakeRoom extends AppCompatActivity{\r\n//public class MakeRoom extends AppCompatActivity implements View.OnClickListener{\r\n    private DatabaseReference mPostReference;\r\n    Button bt_makeroom;\r\n    EditText et_roomname;\r\n    EditText et_roomcategory;\r\n    EditText et_roominfo;\r\n    EditText et_roomauth;\r\n\r\n    String roomname;\r\n    String roomcategory;\r\n    String roominfo;\r\n    String roomauth;\r\n    String sort = \"roomcategory\";\r\n\r\n    private DatabaseReference mDatabase;\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_makeroom);\r\n\r\n        bt_makeroom = (Button) findViewById(R.id.bt_makeroom);\r\n        et_roomname = (EditText) findViewById(R.id.et_roomname);\r\n        et_roomcategory = (EditText) findViewById(R.id.et_roomcategory);\r\n        et_roominfo = (EditText) findViewById(R.id.et_roominfo);\r\n        et_roomauth = (EditText) findViewById(R.id.et_roomauth);\r\n\r\n        mDatabase = FirebaseDatabase.getInstance().getReference();\r\n\r\n        readUser();\r\n\r\n        bt_makeroom.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                String getRoomname = et_roomname.getText().toString();\r\n                String getRoomcategory = et_roomcategory.getText().toString();\r\n                String getRoominfo = et_roominfo.getText().toString();\r\n                String getRoomauth = et_roomauth.getText().toString();\r\n\r\n                writeNewRoom(getRoomname, getRoomcategory, getRoominfo, getRoomauth);\r\n                /*\r\n                //hashmap 만들기\r\n                HashMap result = new HashMap<>();\r\n                result.put(\"roomname\", getRoomname);\r\n                result.put(\"roomcategory\", getRoomcategory);\r\n                result.put(\"roominfo\", getRoominfo);\r\n                result.put(\"roomauth\", getRoomauth);\r\n                */\r\n\r\n                //writeNewUser(\"1\", getRoomname, getRoomcategory, getRoominfo, getRoomauth);\r\n            }\r\n        });\r\n    }\r\n\r\n    private void writeNewRoom(String roomname, String roomcategory, String roominfo, String roomauth) {\r\n        //String key = mDatabase.child(\"rooms\").push().getKey();\r\n        MakeRoomDB roomDB = new MakeRoomDB(roomname, roomcategory, roominfo, roomauth);\r\n        Map<String, Object> roomValues = roomDB.toMap();\r\n        Map<String, Object> childUpdates = new HashMap<>();\r\n\r\n        childUpdates.put(\"/study_rooms/\" + roomname, roomValues);\r\n\r\n        mDatabase.updateChildren(childUpdates)\r\n                .addOnSuccessListener(new OnSuccessListener<Void>() {\r\n                    @Override\r\n                    public void onSuccess(Void aVoid) {\r\n                        Toast.makeText(MakeRoom.this, \"저장을 완료했습니다.\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                })\r\n                .addOnFailureListener(new OnFailureListener() {\r\n                    @Override\r\n                    public void onFailure(@NonNull Exception e) {\r\n                        Toast.makeText(MakeRoom.this, \"저장을 실패했습니다.\", Toast.LENGTH_SHORT).show();\r\n                    }\r\n                });\r\n\r\n\r\n    }\r\n\r\n    private void readUser(){\r\n        mDatabase.child(\"users\").child(\"1\").addValueEventListener(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot dataSnapshot) {\r\n                // Get Post object and use the values to update the UI\r\n                if(dataSnapshot.getValue(MakeRoomDB.class) != null){\r\n                    MakeRoomDB post = dataSnapshot.getValue(MakeRoomDB.class);\r\n                    Log.w(\"FireBaseData\", \"getData\" + post.toString());\r\n                } else {\r\n                    Toast.makeText(MakeRoom.this, \"데이터 없음...\", Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError databaseError) {\r\n                // Getting Post failed, log a message\r\n                Log.w(\"FireBaseData\", \"loadPost:onCancelled\", databaseError.toException());\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    /*\r\n\r\n    ArrayAdapter<String> arrayAdapter;\r\n    static ArrayList<String> arrayIndex = new ArrayList<String>();\r\n    static ArrayList<String> arrayData = new ArrayList<String>();\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_makeroom);\r\n\r\n        bt_makeroom = (Button) findViewById(R.id.bt_makeroom);\r\n        et_roomname = (EditText) findViewById(R.id.et_roomname);\r\n        et_roomcategory = (EditText) findViewById(R.id.et_roomcategory);\r\n        et_roominfo = (EditText) findViewById(R.id.et_roominfo);\r\n        et_roomauth = (EditText) findViewById(R.id.et_roomauth);\r\n\r\n        arrayAdapter = new ArrayAdapter<String>(this, android.R.layout.simple_list_item_1);\r\n        ListView listView = (ListView) findViewById(R.id.db_list_view);\r\n        listView.setAdapter(arrayAdapter);\r\n        listView.setOnItemLongClickListener(longClickListener);\r\n\r\n        getFirebaseDatabase();\r\n        bt_makeroom.setEnabled(true);\r\n    }\r\n\r\n    public void setInsertMode(){\r\n        et_roomname.setText(\"\");\r\n        et_roomcategory.setText(\"\");\r\n        et_roominfo.setText(\"\");\r\n        et_roominfo.setText(\"\");\r\n        bt_makeroom.setEnabled(true);\r\n    }\r\n\r\n    private AdapterView.OnItemClickListener onClickListener = new AdapterView.OnItemClickListener() {\r\n        @Override\r\n        public void onItemClick(AdapterView<?> parent, View view, int position, long id) {\r\n            Log.e(\"On Click\", \"Position = \" + position);\r\n            Log.e(\"On Click\", \"Data: \" + arrayData.get(position));\r\n            String[] tempData = arrayData.get(position).split(\"\\\\s+\");\r\n            Log.e(\"On Click\", \"Split Result = \" + tempData);\r\n            et_roomname.setText(tempData[0].trim());\r\n            et_roomcategory.setText(tempData[1].trim());\r\n            et_roominfo.setText(tempData[2].trim());\r\n            et_roomauth.setText(tempData[3].trim());\r\n\r\n            et_roomname.setEnabled(false);\r\n            bt_makeroom.setEnabled(false);\r\n        }\r\n    };\r\n\r\n    // 길게 누르면 데이터 삭제하는 기능\r\n    private AdapterView.OnItemLongClickListener longClickListener = new AdapterView.OnItemLongClickListener() {\r\n        @Override\r\n        public boolean onItemLongClick(AdapterView<?> parent, View view, int position, long id) {\r\n            Log.d(\"Long click\", \"position = \" + position);\r\n            final String[] nowData = arrayData.get(position).split(\"\\\\s\");\r\n            roomname = nowData[0];\r\n            String viewData = nowData[0] + \", \" + nowData[1] + \", \" + nowData[2] + \", \" + nowData[3] + \", \";\r\n            AlertDialog.Builder dialog = new AlertDialog.Builder(MakeRoom.this);\r\n            dialog.setTitle(\"스터디룸 삭제\")\r\n                    .setMessage(\"스터디룸을 삭제하시겠습니까?\" + \"\\n\" + viewData)\r\n                    .setPositiveButton(\"네\", new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            postFirebaseDatabase(roomname, roomcategory, roomauth, roominfo);\r\n                            getFirebaseDatabase();\r\n                            setInsertMode();\r\n                            et_roomname.setEnabled(true);\r\n                            Toast.makeText(MakeRoom.this, \"스터디룸을 삭제했습니다.\", Toast.LENGTH_SHORT).show();\r\n                        }\r\n                    })\r\n                    .setNegativeButton(\"아니오\", new DialogInterface.OnClickListener() {\r\n                        @Override\r\n                        public void onClick(DialogInterface dialog, int which) {\r\n                            Toast.makeText(MakeRoom.this, \"삭제를 취소했습니다.\", Toast.LENGTH_SHORT).show();\r\n                            setInsertMode();\r\n                            et_roomname.setEnabled(true);\r\n                        }\r\n                    })\r\n                    .create()\r\n                    .show();\r\n            return false;\r\n        }\r\n    };\r\n\r\n    // 중복 체크\r\n    public boolean IsExistName(){\r\n        boolean IsExist = arrayIndex.contains(roomname);\r\n        return IsExist;\r\n    }\r\n\r\n    public void postFirebaseDatabase(String roomname, String roomcategory, String roominfo, String roomauth){\r\n        mPostReference = FirebaseDatabase.getInstance().getReference();\r\n        Map<String, Object> childUpdates = new HashMap<>();\r\n        Map<String, Object> postValues = null;\r\n//        if(add){\r\n//            MakeRoomDB post = new MakeRoomDB(roomname, roomcategory, roominfo, roomauth);\r\n//            postValues = post.toMap();\r\n//        }\r\n        MakeRoomDB post = new MakeRoomDB(roomname, roomcategory, roominfo, roomauth);\r\n        postValues = post.toMap();\r\n\r\n        childUpdates.put(\"/study_room/\" + roomname, postValues);\r\n        mPostReference.updateChildren(childUpdates); // 다른 하위 노드를 덮어쓰지 않고 특정 하위 노드에 동시에 쓰는 메서드\r\n    }\r\n\r\n    public void getFirebaseDatabase(){\r\n        ValueEventListener postListener = new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                Log.e(\"getFireDatabase\", \"key: \" + dataSnapshot.getChildrenCount());\r\n                arrayData.clear();\r\n                arrayIndex.clear();\r\n                for(DataSnapshot postSnapshot: dataSnapshot.getChildren()) {\r\n                    String key = postSnapshot.getKey();\r\n                    MakeRoomDB get = postSnapshot.getValue(MakeRoomDB.class);\r\n                    String[] info = {get.roomname, get.roomcategory, get.roominfo, get.roomauth};\r\n                    String Result = setTextLength(info[0], 10) + setTextLength(info[1], 10)+ setTextLength(info[2], 10)+ setTextLength(info[3], 10);\r\n                    arrayData.add(Result);\r\n                    arrayIndex.add(key);\r\n                    Log.d(\"getFirebaseDatabase\" , \"key: \" + key);\r\n                    Log.d(\"getFirebaseDatabase\", \"info : \" + info[0] + info[1] + info[2] + info[3]);\r\n                }\r\n                arrayAdapter.clear();\r\n                arrayAdapter.addAll(arrayData);\r\n                arrayAdapter.notifyDataSetChanged();\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(DatabaseError databaseError) {\r\n                Log.w(\"getFirebaseDatabase\", \"loadPost:onCancelled\", databaseError.toException());\r\n            }\r\n        };\r\n        Query sortbyCategory = FirebaseDatabase.getInstance().getReference().child(\"study_room\").orderByChild(sort);\r\n        sortbyCategory.addListenerForSingleValueEvent(postListener);\r\n    }\r\n\r\n    public String setTextLength(String text, int length) {\r\n        if(text.length()< length){\r\n            int gap = length - text.length();\r\n            for(int i=0; i<gap;i++){\r\n                text = text + \" \";\r\n            }\r\n        }\r\n        return text;\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        switch (v.getId()){\r\n            case R.id.bt_makeroom:\r\n                roomname = et_roomname.getText().toString();\r\n                roomcategory = et_roomcategory.getText().toString();\r\n                roominfo = et_roominfo.getText().toString();\r\n                roomauth = et_roomauth.getText().toString();\r\n                // 중복 체크 검사하는 기능인데 작동을 제대로 안해서 주석처리 했습니다ㅠ\r\n//                if(!IsExistName()){\r\n//                    postFirebaseDatabase(roomname, roomcategory, roominfo, roomauth);\r\n//                    getFirebaseDatabase();\r\n//                    setInsertMode();\r\n//                    et_roomname.setEnabled(true);\r\n//                }\r\n//                else{\r\n//                    Toast.makeText(MakeRoom.this, \"이미 존재하는 스터디룸 이름입니다. 다른 이름으로 변경해주세요.\", Toast.LENGTH_LONG).show();\r\n//                }\r\n\r\n                postFirebaseDatabase(roomname, roomcategory, roominfo, roomauth);\r\n                getFirebaseDatabase();\r\n                setInsertMode();\r\n                et_roomname.requestFocus();\r\n                et_roomname.setCursorVisible(true);\r\n                break;\r\n        }\r\n    }*/\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/java/com/example/studyproject/MakeRoom.java	(revision 6f2d2fa05ec26ae5f0f8624263afacebfd4dab06)
+++ app/src/main/java/com/example/studyproject/MakeRoom.java	(date 1613633497103)
@@ -33,20 +33,27 @@
 
 //@IgnoreExtraProperties
 public class MakeRoom extends AppCompatActivity{
-//public class MakeRoom extends AppCompatActivity implements View.OnClickListener{
-    private DatabaseReference mPostReference;
     Button bt_makeroom;
     EditText et_roomname;
     EditText et_roomcategory;
     EditText et_roominfo;
     EditText et_roomauth;
 
+    private ListView listView;
+    private FirebaseDatabase database;
+    private DatabaseReference myRef;
+
+    List roomList = new ArrayList<>();
+    private ArrayAdapter<String> dataAdapter;
+
     String roomname;
     String roomcategory;
     String roominfo;
     String roomauth;
     String sort = "roomcategory";
 
+
+
     private DatabaseReference mDatabase;
 
     @Override
@@ -73,6 +80,9 @@
                 String getRoomauth = et_roomauth.getText().toString();
 
                 writeNewRoom(getRoomname, getRoomcategory, getRoominfo, getRoomauth);
+
+
+
                 /*
                 //hashmap 만들기
                 HashMap result = new HashMap<>();
Index: app/src/main/res/layout/fragment_search_all.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:orientation=\"vertical\"\r\n    android:background=\"#ECEBEB\">\r\n\r\n\r\n    <Button\r\n        android:id=\"@+id/button4\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"꿀 순\"\r\n        android:textColor=\"#989898\"\r\n        android:background=\"@drawable/btn_round\"\r\n        android:minHeight=\"0dp\"\r\n        android:minWidth=\"0dp\"\r\n        android:paddingHorizontal=\"15dp\"\r\n        android:paddingVertical=\"5dp\"\r\n        android:layout_margin=\"10dp\"/>\r\n\r\n    <TextView\r\n        android:id=\"@+id/textView5\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"전체\" />\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_search_all.xml	(revision 6f2d2fa05ec26ae5f0f8624263afacebfd4dab06)
+++ app/src/main/res/layout/fragment_search_all.xml	(date 1613631715951)
@@ -5,7 +5,6 @@
     android:orientation="vertical"
     android:background="#ECEBEB">
 
-
     <Button
         android:id="@+id/button4"
         android:layout_width="wrap_content"
@@ -24,4 +23,9 @@
         android:layout_width="match_parent"
         android:layout_height="wrap_content"
         android:text="전체" />
+
+    <ListView
+        android:id="@+id/room_list"
+        android:layout_width="match_parent"
+        android:layout_height="wrap_content" />
 </LinearLayout>
\ No newline at end of file
Index: app/src/main/res/layout/fragment_search.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:id=\"@+id/gotomake\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\"\r\n    android:background=\"#F8F7EF\"\r\n    android:orientation=\"vertical\">\r\n\r\n    <androidx.appcompat.widget.Toolbar\r\n        android:id=\"@+id/toolbarHome\"\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:background=\"#F3C94E\">\r\n\r\n        <TextView\r\n            android:id=\"@+id/toolbar_title\"\r\n            android:layout_width=\"wrap_content\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_gravity=\"center\"\r\n            android:text=\"스터디 탐색\"\r\n            android:textColor=\"#FFFFFF\"\r\n            android:textSize=\"30sp\" />\r\n\r\n    </androidx.appcompat.widget.Toolbar>\r\n\r\n    <LinearLayout\r\n        android:layout_width=\"match_parent\"\r\n        android:layout_height=\"454dp\"\r\n        android:layout_marginHorizontal=\"20dp\"\r\n        android:layout_marginTop=\"25dp\"\r\n        android:layout_marginBottom=\"0dp\"\r\n        android:background=\"#ECEBEB\"\r\n        android:orientation=\"vertical\">\r\n\r\n        <EditText\r\n            android:id=\"@+id/editSearch\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"wrap_content\"\r\n            android:layout_marginHorizontal=\"15dp\"\r\n            android:layout_marginTop=\"15dp\"\r\n            android:background=\"@drawable/edittext_rounded_corner_rectangle\"\r\n            android:hint=\"검색어를 입력하세요.\"\r\n            android:padding=\"15dp\" />\r\n\r\n        <FrameLayout\r\n            android:id=\"@+id/container\"\r\n            android:layout_width=\"match_parent\"\r\n            android:layout_height=\"362dp\"\r\n            android:layout_marginHorizontal=\"15dp\">\r\n\r\n            <ListView\r\n                android:id=\"@+id/room_list\"\r\n                android:layout_width=\"match_parent\"\r\n                android:layout_height=\"wrap_content\"/>\r\n\r\n        </FrameLayout>\r\n\r\n    </LinearLayout>\r\n\r\n    <Button\r\n        android:id=\"@+id/button2\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_gravity=\"center\"\r\n        android:text=\"개설하기\"\r\n        android:textColor=\"#ffffff\"\r\n        android:background=\"@drawable/btn_red_round\"\r\n        android:minHeight=\"0dp\"\r\n        android:paddingVertical=\"5dp\"\r\n        android:paddingHorizontal=\"14dp\"/>\r\n\r\n\r\n</LinearLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- app/src/main/res/layout/fragment_search.xml	(revision 6f2d2fa05ec26ae5f0f8624263afacebfd4dab06)
+++ app/src/main/res/layout/fragment_search.xml	(date 1613631134761)
@@ -50,10 +50,7 @@
             android:layout_height="362dp"
             android:layout_marginHorizontal="15dp">
 
-            <ListView
-                android:id="@+id/room_list"
-                android:layout_width="match_parent"
-                android:layout_height="wrap_content"/>
+
 
         </FrameLayout>
 
